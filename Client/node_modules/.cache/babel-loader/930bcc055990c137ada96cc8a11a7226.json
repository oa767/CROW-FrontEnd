{"ast":null,"code":"import _toConsumableArray from\"/Users/randy/CROW-FrontEnd/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"/Users/randy/CROW-FrontEnd/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/randy/CROW-FrontEnd/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/randy/CROW-FrontEnd/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState,useEffect}from'react';import{useHistory}from'react-router-dom';import axios from'axios';import homeImage from'./homeLogo.png';import'./home.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Home(){var history=useHistory();function navigateToPage(path){history.push(path);}var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isModalOpen=_useState2[0],setIsModalOpen=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isCodeModalOpen=_useState4[0],setIsCodeModalOpen=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isInterestModalOpen=_useState6[0],setIsInterestModalOpen=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),roomName=_useState8[0],setRoomName=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),roomCode=_useState10[0],setRoomCode=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),username=_useState12[0],setUsername=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),interest=_useState14[0],setInterest=_useState14[1];var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),interestsArray=_useState16[0],setInterestsArray=_useState16[1];var path='/chatroom/';var handleCreateRoomUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post(\"https://crow249.herokuapp.com/rooms/create/\".concat(roomName)).then(function(response){console.log(response.data);}).catch(function(error){console.log(error);});case 2:axios.post(\"https://crow249.herokuapp.com/users/create/\".concat(username)).then(function(response){console.log(response.data);setIsModalOpen(false);}).catch(function(error){console.log(error);});return _context.abrupt(\"return\",axios.get(\"https://crow249.herokuapp.com/rooms/\".concat(roomName,\"/id\")));case 4:case\"end\":return _context.stop();}}},_callee);}));return function handleCreateRoomUser(){return _ref.apply(this,arguments);};}();var joinPrivateRoom=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var code;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return handleCreateRoomUser().catch(function(error){return console.log(error);});case 2:code=_context2.sent;console.log(code.data);sessionStorage.setItem('privateRoom',true);sessionStorage.setItem('newUser',true);sessionStorage.setItem('username',username);console.log(path.concat(code.data));navigateToPage(path.concat(code.data));case 9:case\"end\":return _context2.stop();}}},_callee2);}));return function joinPrivateRoom(){return _ref2.apply(this,arguments);};}();var handleJoinWithCode=function handleJoinWithCode(){axios.post(\"https://crow249.herokuapp.com/users/create/\".concat(username)).then(function(response){console.log(response.data);setIsCodeModalOpen(false);sessionStorage.setItem('username',username);sessionStorage.setItem('privateRoom',true);sessionStorage.setItem('newUser',true);console.log(path.concat(roomCode));navigateToPage(path.concat(roomCode));}).catch(function(error){console.log(error);});};var callJoinWithInterests=function callJoinWithInterests(){console.log(interestsArray.join(\",\"));axios.post(\"https://crow249.herokuapp.com/rooms/join/interests/\".concat(username,\"?interests=\").concat(interestsArray.join(\",\"))).then(function(response){console.log(Object.values(response.data).join(''));setIsInterestModalOpen(false);sessionStorage.setItem('username',username);sessionStorage.setItem('privateRoom',false);sessionStorage.setItem('newUser',true);sessionStorage.setItem('roomName',Object.values(response.data)[0]);}).catch(function(error){console.log(error);});};var handleJoinWithInterests=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var code;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return callJoinWithInterests();case 2:_context3.next=4;return axios.get(\"https://crow249.herokuapp.com/rooms/\".concat(sessionStorage.getItem('roomName'),\"/id\")).catch(function(error){return console.log(error);});case 4:code=_context3.sent;console.log(code.data);sessionStorage.removeItem('roomName');console.log(path.concat(code.data));navigateToPage(path.concat(code.data));case 9:case\"end\":return _context3.stop();}}},_callee3);}));return function handleJoinWithInterests(){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/ (/* The home page has 4 key functions as the introduction to the website\n\t\t1. It shows users  a list of chat rooms that they can join, center of the screen\t\n\t\t2. It gives them an option to create their own room, sidebar\n\t\t3. It gives them an option to create a private room, sidebar\n\t\t4. It shows them a list of user names they can choose from before entering any room.\n\t\t\t */_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"topBar\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setIsModalOpen(true);},className:\"privateRoomButton\",style:{width:\"21%\"},children:\"Create a Private Room\"}),/*#__PURE__*/_jsx(\"div\",{className:\"topBarTitle\",children:\" Crow \"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"content homepage\",children:[isModalOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"createRoomModal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modalContent\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"roomNameInput\",placeholder:\"Room Name\",value:roomName,onChange:function onChange(e){return setRoomName(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{className:\"usernameInput\",placeholder:\"Username\",value:username,onChange:function onChange(e){return setUsername(e.target.value);}}),/*#__PURE__*/_jsxs(\"div\",{className:\"create-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:joinPrivateRoom,children:\" Create Room \"}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:function onClick(){return setIsModalOpen(false);},children:\" Cancel \"})]})]})}),isCodeModalOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"createRoomModal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modalContent\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"roomNameInput\",placeholder:\"Room Code\",value:roomCode,onChange:function onChange(e){return setRoomCode(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{className:\"usernameInput\",placeholder:\"Username\",value:username,onChange:function onChange(e){return setUsername(e.target.value);}}),/*#__PURE__*/_jsxs(\"div\",{className:\"create-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:handleJoinWithCode,children:\" Join Room \"}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:function onClick(){return setIsCodeModalOpen(false);},children:\" Cancel \"})]})]})}),isInterestModalOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"createRoomModal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modalContent\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"roomNameInput\",placeholder:\"New Interest\",value:interest,onChange:function onChange(e){return setInterest(e.target.value);},id:\"newInterests\"}),/*#__PURE__*/_jsx(\"input\",{className:\"usernameInput\",placeholder:\"Username\",value:username,onChange:function onChange(e){return setUsername(e.target.value);}}),/*#__PURE__*/_jsxs(\"div\",{className:\"create-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:function onClick(){setInterestsArray(function(){return[].concat(_toConsumableArray(interestsArray),[interest]);});var value=document.getElementById('newInterests').value;var list=document.getElementById('interestsList');var newInterest=document.createElement('p');newInterest.appendChild(document.createTextNode(value));list.appendChild(newInterest);setInterest('');},children:\"Add Interest\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:handleJoinWithInterests,children:\"Join Room\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:function onClick(){setInterest('');setUsername('');setInterestsArray([]);setIsInterestModalOpen(false);},children:\"Cancel\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"interestsContainer\",id:\"interestsList\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"imageContainer\",children:/*#__PURE__*/_jsx(\"img\",{src:homeImage})}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttonContainer\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return navigateToPage('/usernameChoice');},className:\"homePageButton\",children:\"Join a Random Room\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setIsCodeModalOpen(true);},className:\"homePageButton\",children:\"Join Room with Code\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setIsInterestModalOpen(true);},className:\"homePageButton\",children:\"Join Room with Interests\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return navigateToPage('/rooms');},className:\"homePageButton\",children:\"View All Rooms\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return navigateToPage('/users');},className:\"homePageButton\",children:\"View All Users\"})]})]})})]}));};","map":{"version":3,"sources":["/Users/randy/CROW-FrontEnd/src/pages/Home/Home.jsx"],"names":["React","useState","useEffect","useHistory","axios","homeImage","Home","history","navigateToPage","path","push","isModalOpen","setIsModalOpen","isCodeModalOpen","setIsCodeModalOpen","isInterestModalOpen","setIsInterestModalOpen","roomName","setRoomName","roomCode","setRoomCode","username","setUsername","interest","setInterest","interestsArray","setInterestsArray","handleCreateRoomUser","post","then","response","console","log","data","catch","error","get","joinPrivateRoom","code","sessionStorage","setItem","concat","handleJoinWithCode","callJoinWithInterests","join","Object","values","handleJoinWithInterests","getItem","removeItem","width","e","target","value","document","getElementById","list","newInterest","createElement","appendChild","createTextNode"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport {useHistory} from 'react-router-dom';\nimport axios from 'axios';\nimport homeImage from './homeLogo.png';\n\nimport './home.css';\n\nexport default function Home(){\n  const history = useHistory();\n\n  function navigateToPage(path) {\n    history.push(path);\n  }\n\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [isCodeModalOpen, setIsCodeModalOpen] = useState(false);\n  const [isInterestModalOpen, setIsInterestModalOpen] = useState(false);\n  const [roomName, setRoomName] = useState('');\n  const [roomCode, setRoomCode] = useState('');\n  const [username, setUsername] = useState('');\n\n  const [interest, setInterest] = useState('');\n  const [interestsArray, setInterestsArray] = useState([]);\n\n  const path = '/chatroom/';\n\n  const handleCreateRoomUser = async() => {\n    await axios.post(`https://crow249.herokuapp.com/rooms/create/${roomName}`)\n      .then((response) => {\n\tconsole.log(response.data);\n      })\n      .catch(error => {\n        console.log(error);\n      })\n    axios.post(`https://crow249.herokuapp.com/users/create/${username}`)\n      .then((response) => {\n\tconsole.log(response.data);\n\tsetIsModalOpen(false);\t\n      })\n      .catch(error => {\n        console.log(error);\n      })\n    return axios.get(`https://crow249.herokuapp.com/rooms/${roomName}/id`)\n  }\n\n  const joinPrivateRoom = async() => {\n    const code = await handleCreateRoomUser()\n\t\t\t.catch((error) => console.log(error));\n    console.log(code.data);\n    sessionStorage.setItem('privateRoom', true);\n    sessionStorage.setItem('newUser', true);\n    sessionStorage.setItem('username', username);\n    console.log(path.concat(code.data));\n    navigateToPage(path.concat(code.data));\n  }\n\n  const handleJoinWithCode = () => {\n    axios.post(`https://crow249.herokuapp.com/users/create/${username}`)\n      .then((response) => {\n        console.log(response.data);\n        setIsCodeModalOpen(false);\n\tsessionStorage.setItem('username', username);\n        sessionStorage.setItem('privateRoom', true);\n        sessionStorage.setItem('newUser', true);\n        console.log(path.concat(roomCode))\n        navigateToPage(path.concat(roomCode));\n      })\n      .catch(error => {\n        console.log(error);\n      })\n  }\n\n  const callJoinWithInterests = () => {\n    console.log(interestsArray.join(\",\"));\n    axios.post(`https://crow249.herokuapp.com/rooms/join/interests/${username}?interests=${interestsArray.join(\",\")}`)\n      .then((response) => {\n\tconsole.log(Object.values(response.data).join(''));\n\tsetIsInterestModalOpen(false);\n\tsessionStorage.setItem('username', username);\n        sessionStorage.setItem('privateRoom', false);\n        sessionStorage.setItem('newUser', true);\n \tsessionStorage.setItem('roomName', Object.values(response.data)[0]);\n      })        \n      .catch(error => {\n        console.log(error);\n      })\n  }\n\n  const handleJoinWithInterests = async() => {\n    await callJoinWithInterests();\n    const code =  await axios.get(`https://crow249.herokuapp.com/rooms/${sessionStorage.getItem('roomName')}/id`)\n\t\t\t.catch((error) => console.log(error));\n    console.log(code.data);\n    sessionStorage.removeItem('roomName');\n    console.log(path.concat(code.data));\n    navigateToPage(path.concat(code.data));\n  }\n\n  return (\n\t  /* The home page has 4 key functions as the introduction to the website\n\t\t1. It shows users  a list of chat rooms that they can join, center of the screen\t\n\t\t2. It gives them an option to create their own room, sidebar\n\t\t3. It gives them an option to create a private room, sidebar\n\t\t4. It shows them a list of user names they can choose from before entering any room.\n\t\t\t */\n    <>\n      <div className=\"wrapper\">\n        <div className=\"topBar\">\n          <button \n\t    onClick={() => setIsModalOpen(true)}\n\t    className=\"privateRoomButton\"\n\t    style={{width: \"21%\"}}\n\t  >\n            Create a Private Room\n          </button>\n          <div className=\"topBarTitle\"> Crow </div>\n        </div>\n      </div>\n      <div className=\"wrapper\">\n        <div className=\"content homepage\">\n          {isModalOpen &&\n            <div className=\"createRoomModal\">\n\t      <div className=\"modalContent\">\n                <input\n                  className=\"roomNameInput\"\n                  placeholder=\"Room Name\"\n                  value={roomName}\n                  onChange={(e) => setRoomName(e.target.value)}\n                />\n                <input\n                  className=\"usernameInput\"\n                  placeholder=\"Username\"\n                  value={username}\n                  onChange={(e) => setUsername(e.target.value)}\n                />\n                <div className=\"create-actions\">\n                  <button className=\"button\" onClick={joinPrivateRoom}> Create Room </button>\n                  <button className=\"button\" onClick={() => setIsModalOpen(false)}> Cancel </button>\n                </div>\n              </div>\n\t    </div>\n          }\n          {isCodeModalOpen &&\n            <div className=\"createRoomModal\">\n              <div className=\"modalContent\">\n                <input\n                  className=\"roomNameInput\"\n                  placeholder=\"Room Code\"\n                  value={roomCode}\n                  onChange={(e) => setRoomCode(e.target.value)}\n                />\n\t        <input\n                  className=\"usernameInput\"\n                  placeholder=\"Username\"\n                  value={username}\n                  onChange={(e) => setUsername(e.target.value)}\n                />\n                <div className=\"create-actions\">\n                  <button className=\"button\" onClick={handleJoinWithCode}> Join Room </button>\n                  <button className=\"button\" onClick={() => setIsCodeModalOpen(false)}> Cancel </button>\n                </div>\n              </div>\n            </div>\n          }\n\t  {isInterestModalOpen &&\n\t    <div className=\"createRoomModal\">\n\t      <div className=\"modalContent\">\n\t        <input\n\t\t  className=\"roomNameInput\"\n\t\t  placeholder=\"New Interest\"\n\t\t  value={interest}\n\t\t  onChange={(e) => setInterest(e.target.value)}\n \t\t  id=\"newInterests\"\n\t\t/>\n\t\t<input\n                  className=\"usernameInput\"\n                  placeholder=\"Username\"\n                  value={username}\n                  onChange={(e) => setUsername(e.target.value)}\n                />\n\t\t<div className=\"create-actions\">\n\t   \t  <button\n\t\t    className=\"button\"\n\t\t    onClick={() => {\n\t\t      setInterestsArray(() => [...interestsArray, interest]);\n\t\t      var value = document.getElementById('newInterests').value;\n                      var list = document.getElementById('interestsList');\n    \t\t      var newInterest = document.createElement('p');\n \t\t      newInterest.appendChild(document.createTextNode(value));\n\t\t      list.appendChild(newInterest);\n\t\t      setInterest('');\n   \t\t    }}\n    \t          >\n\t\t    Add Interest\n\t\t  </button>\n\t          <button\n\t\t    className=\"button\"\n\t\t    onClick={handleJoinWithInterests}\n \t\t  >\n\t\t    Join Room\n   \t\t  </button>\n                  <button \n\t\t    className=\"button\" \n\t\t    onClick={() => {\n\t\t      setInterest('');\n\t\t      setUsername('');\n\t\t      setInterestsArray([]);\n\t              setIsInterestModalOpen(false);\n\t\t    }}\n\t\t  > \n\t\t    Cancel \n\t\t  </button>\n                </div>\n\t\t<div className=\"interestsContainer\" id=\"interestsList\"></div>\n              </div>\n            </div>\n          }\n\t  <div className=\"imageContainer\">\n\t    <img src={homeImage} />\n  \t  </div>\n          <div className=\"buttonContainer\">\n            <button\n\t      onClick={() => navigateToPage('/usernameChoice')}\n\t      className=\"homePageButton\"\n            >\n\t      Join a Random Room\n            </button>\n\t    <button\n\t      onClick={() => setIsCodeModalOpen(true)}\n\t      className=\"homePageButton\"\n\t    >\n\t      Join Room with Code\n\t    </button>\n\t    <button\n\t      onClick={() => setIsInterestModalOpen(true)}\n\t      className=\"homePageButton\"\n\t    >\n\t      Join Room with Interests\n\t    </button>\n            <button\n              onClick={() => navigateToPage('/rooms')}\n              className=\"homePageButton\"\n            >\n              View All Rooms\n            </button>\n            <button\n              onClick={() => navigateToPage('/users')}\n              className=\"homePageButton\"\n            >\n              View All Users\n            </button> \n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\n"]},"metadata":{},"sourceType":"module"}