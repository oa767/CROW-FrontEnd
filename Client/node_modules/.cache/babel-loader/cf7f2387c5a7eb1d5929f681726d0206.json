{"ast":null,"code":"import _asyncToGenerator from\"/Users/randy/CROW-FrontEnd/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/randy/CROW-FrontEnd/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/randy/CROW-FrontEnd/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState,useEffect}from'react';import{useHistory}from'react-router-dom';import axios from'axios';import'./usernameChoice.css';import'../Home/home.css';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function UsernameChoice(){var usernames=[\"Crow\",\"Owl\",\"Raven\",\"Eagle\",\"Sparrow\",\"Penguin\",\"Flamingo\",\"Crane\",\"Hummingbird\",\"Dove\"];var history=useHistory();var randomUsername=usernames[Math.floor(Math.random()*usernames.length)];function navigateToPage(path){history.push(path);}var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isModalOpen=_useState2[0],setIsModalOpen=_useState2[1];var _useState3=useState(randomUsername),_useState4=_slicedToArray(_useState3,2),username=_useState4[0],setUsername=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),randomRoom=_useState6[0],setRandomRoom=_useState6[1];var path='/chatroom/';var createUserJoinRoom=function createUserJoinRoom(){axios.post(\"https://crow249.herokuapp.com/users/create/\".concat(username)).then(function(response){console.log(response.data);setIsModalOpen(false);sessionStorage.setItem('username',username);sessionStorage.setItem('privateRoom',false);sessionStorage.setItem('newUser',true);}).catch(function(error){console.log(error);});axios.post(\"https://crow249.herokuapp.com/rooms/join/\".concat(randomRoom,\"/\").concat(username)).then(function(response){console.log(response.data);console.log(path.concat(randomRoom));navigateToPage(path.concat(randomRoom));}).catch(function(error){console.log(error);});};var getRooms=function getRooms(){return axios.get('https://crow249.herokuapp.com/rooms/list');};useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var rooms;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getRooms().catch(function(error){return console.log(error);});case 2:rooms=_context.sent;setRandomRoom(rooms.data[Math.floor(Math.random()*rooms.data.length)]._id.$oid);case 4:case\"end\":return _context.stop();}}},_callee);})),[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{style:{paddingTop:\"150px\",paddingBottom:\"20px\"},children:/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){return history.push('/');},className:\"button choice\",children:[\"<--\",\"Go Back Home\"]})}),/*#__PURE__*/_jsx(\"h3\",{style:{color:\"white\",textAlign:\"center\"},children:\" Let's pick a username \"}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttonContainer choice\",children:[isModalOpen&&/*#__PURE__*/_jsxs(\"div\",{className:\"createUsernameModal\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"usernameInput\",placeholder:\"Username\",value:username,onChange:function onChange(e){return setUsername(e.target.value);}}),/*#__PURE__*/_jsxs(\"div\",{className:\"create-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:createUserJoinRoom,children:\" Go To Room \"}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:function onClick(){return setIsModalOpen(false);},children:\" Cancel \"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:createUserJoinRoom,className:\"homePageButton choice\",children:\"Choose for me\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){sessionStorage.setItem(\"roomCode\",randomRoom);navigateToPage('/usernameChoice/usernames');},className:\"homePageButton choice\",children:\"Pick a Default Username\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setIsModalOpen(true);},className:\"homePageButton choice\",children:\"Create my Own\"})]})]});};","map":{"version":3,"sources":["/Users/randy/CROW-FrontEnd/src/pages/UsernameChoice/UsernameChoice.jsx"],"names":["React","useState","useEffect","useHistory","axios","UsernameChoice","usernames","history","randomUsername","Math","floor","random","length","navigateToPage","path","push","isModalOpen","setIsModalOpen","username","setUsername","randomRoom","setRandomRoom","createUserJoinRoom","post","then","response","console","log","data","sessionStorage","setItem","catch","error","concat","getRooms","get","rooms","_id","$oid","paddingTop","paddingBottom","color","textAlign","e","target","value"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport {useHistory} from 'react-router-dom';\nimport axios from 'axios';\n\n\nimport './usernameChoice.css';\nimport '../Home/home.css';\n\nexport default function UsernameChoice() {\n  const usernames = [\"Crow\", \"Owl\", \"Raven\", \"Eagle\", \"Sparrow\", \"Penguin\", \"Flamingo\", \"Crane\", \"Hummingbird\", \"Dove\"];\n  const history = useHistory();\n\n  var randomUsername = usernames[Math.floor(Math.random()*usernames.length)];\n\n  function navigateToPage(path) {\n    history.push(path);\n  }\n\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [username, setUsername] = useState(randomUsername);\n  const [randomRoom, setRandomRoom] = useState(\"\");\n\n  const path = '/chatroom/';\n\n  const createUserJoinRoom = () => {\n    axios.post(`https://crow249.herokuapp.com/users/create/${username}`)\n      .then((response) => {\n\tconsole.log(response.data);\n        setIsModalOpen(false);\n \tsessionStorage.setItem('username', username);\n        sessionStorage.setItem('privateRoom', false);\n        sessionStorage.setItem('newUser', true);\n      })\n      .catch(error => {\n        console.log(error);\n      })\n    axios.post(`https://crow249.herokuapp.com/rooms/join/${randomRoom}/${username}`)\n      .then((response) => {\n        console.log(response.data);\n\tconsole.log(path.concat(randomRoom))\n        navigateToPage(path.concat(randomRoom));\n      })\n      .catch(error => {\n        console.log(error);\n      })\n  }\n\n  const getRooms = () => {\n    return axios.get('https://crow249.herokuapp.com/rooms/list');\n  }\n\n  useEffect(async() => {\n    const rooms = await getRooms()\n\t\t\t.catch((error) => console.log(error));\n\n    setRandomRoom(rooms.data[Math.floor(Math.random()*rooms.data.length)]._id.$oid);\n  }, [])\n\n  return (\n    <>\n      <div style={{paddingTop: \"150px\", paddingBottom: \"20px\"}}>\n\t<button\n          onClick={() => history.push('/')}\n          className=\"button choice\"\n        >\n          {\"<--\"}Go Back Home\n        </button>\n      </div>\n      <h3 style={{color: \"white\", textAlign: \"center\"}}> Let's pick a username </h3>\n      <div className=\"buttonContainer choice\">\n        {isModalOpen &&\n          <div className=\"createUsernameModal\">\n            <input\n              className=\"usernameInput\"\n              placeholder=\"Username\"\n              value={username}\n              onChange={(e) => setUsername(e.target.value)}\n\t    />\n            <div className=\"create-actions\">\n              <button className=\"button\" onClick={createUserJoinRoom}> Go To Room </button>\n              <button className=\"button\" onClick={() => setIsModalOpen(false)}> Cancel </button>\n            </div>\n          </div>\n        }\n        <button\n\t  onClick={createUserJoinRoom}\n\t  className=\"homePageButton choice\"\n\t>\n          Choose for me\n        </button>\n        <button\n          onClick={() => {\n\t    sessionStorage.setItem(\"roomCode\", randomRoom);\n\t    navigateToPage('/usernameChoice/usernames');\n\t  }}\n\t  className=\"homePageButton choice\"\n        >\n\t  Pick a Default Username\n        </button>\n        <button\n\t  onClick={() => setIsModalOpen(true)} \n\t  className=\"homePageButton choice\"\n        >\n          Create my Own\n        </button>\n      </div>\t\n    </>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}